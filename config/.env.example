# ============================================
# Configuration - Conseiller Intelligent PEA
# ============================================
# Copier ce fichier en .env et renseigner vos clés API

# ============================================
# APIs Financières
# ============================================

# Yahoo Finance (gratuit, pas de clé requise)
# https://finance.yahoo.com/

# Alpha Vantage (gratuit jusqu'à 5 requêtes/min, 500/jour)
# https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here

# Financial Modeling Prep (gratuit: 250 requêtes/jour)
# https://financialmodelingprep.com/developer/docs/
FMP_API_KEY=your_fmp_key_here

# Twelve Data (alternative pour données techniques)
# https://twelvedata.com/
TWELVE_DATA_API_KEY=your_twelve_data_key_here

# ============================================
# APIs Actualités
# ============================================

# NewsAPI (gratuit: 100 requêtes/jour)
# https://newsapi.org/
NEWS_API_KEY=your_newsapi_key_here

# Alpaca News (alternative)
# https://alpaca.markets/
ALPACA_API_KEY=your_alpaca_key_here
ALPACA_SECRET_KEY=your_alpaca_secret_here

# ============================================
# APIs Intelligence Artificielle
# ============================================

# OpenAI (GPT-4, GPT-3.5)
# https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_key_here
OPENAI_MODEL=gpt-4-turbo-preview

# Anthropic Claude (alternative)
# https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_key_here
ANTHROPIC_MODEL=claude-3-opus-20240229

# Hugging Face (modèles open-source, gratuit)
# https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY=your_huggingface_key_here

# ============================================
# Base de données
# ============================================

# PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=pea_advisor
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_postgres_password_here

# Qdrant (vector database pour RAG)
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=your_qdrant_key_here

# ============================================
# Notifications
# ============================================

# Telegram Bot
# https://core.telegram.org/bots#how-do-i-create-a-bot
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_telegram_chat_id_here

# Email (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_smtp_password_here
SMTP_FROM=your_email@gmail.com
SMTP_TO=recipient@example.com

# ============================================
# n8n Configuration
# ============================================

N8N_HOST=https://n8n01.dataforsciences.best
N8N_API_KEY=your_n8n_api_key_here

# Webhooks URLs (générées automatiquement par n8n)
WEBHOOK_ALERTS=https://n8n01.dataforsciences.best/webhook/alerts
WEBHOOK_PORTFOLIO_UPDATE=https://n8n01.dataforsciences.best/webhook/portfolio-update

# ============================================
# Paramètres du système
# ============================================

# Timezone
TZ=Europe/Paris

# Environnement (development, production)
ENVIRONMENT=development

# Niveau de logs (debug, info, warning, error)
LOG_LEVEL=info

# ============================================
# Stratégies d'investissement
# ============================================

# Montant maximum par position (en €)
MAX_POSITION_SIZE=5000

# Pourcentage maximum du portefeuille par position
MAX_POSITION_PERCENTAGE=10

# Montant total du portefeuille (en €)
TOTAL_PORTFOLIO_VALUE=50000

# Plafond PEA (150 000€)
PEA_LIMIT=150000

# Niveau de risque (conservative, moderate, aggressive)
RISK_PROFILE=moderate

# Stop-loss par défaut (en %)
DEFAULT_STOP_LOSS=10

# Take-profit par défaut (en %)
DEFAULT_TAKE_PROFIT=20

# ============================================
# Paramètres d'analyse technique
# ============================================

# RSI
RSI_PERIOD=14
RSI_OVERSOLD=30
RSI_OVERBOUGHT=70

# MACD
MACD_FAST=12
MACD_SLOW=26
MACD_SIGNAL=9

# Moyennes mobiles
SMA_SHORT=20
SMA_MEDIUM=50
SMA_LONG=200

# Bandes de Bollinger
BB_PERIOD=20
BB_STD_DEV=2

# ============================================
# Horaires d'exécution (cron)
# ============================================

# Collecte données marché (18h en semaine)
CRON_MARKET_DATA=0 18 * * 1-5

# Analyse technique (19h en semaine)
CRON_TECHNICAL_ANALYSIS=0 19 * * 1-5

# Actualités (toutes les 4h)
CRON_NEWS_COLLECTOR=0 */4 * * *

# Rapport quotidien (20h en semaine)
CRON_DAILY_REPORT=0 20 * * 1-5

# Rapport hebdomadaire (dimanche 20h)
CRON_WEEKLY_REPORT=0 20 * * 0

# Données fondamentales (lundi 8h)
CRON_FUNDAMENTAL_DATA=0 8 * * 1

# Optimisation portefeuille (samedi 10h)
CRON_PORTFOLIO_OPTIMIZER=0 10 * * 6

# ============================================
# Sécurité
# ============================================

# Clé de chiffrement (générer avec: openssl rand -hex 32)
ENCRYPTION_KEY=your_encryption_key_here

# Activer l'authentification webhook
WEBHOOK_AUTH_ENABLED=true
WEBHOOK_AUTH_TOKEN=your_webhook_auth_token_here

# ============================================
# Backups
# ============================================

# Dossier de backup
BACKUP_DIR=/path/to/backups

# Rétention des backups (en jours)
BACKUP_RETENTION_DAYS=30

# ============================================
# Limites & Rate Limiting
# ============================================

# Nombre maximum de requêtes API par minute
MAX_API_REQUESTS_PER_MINUTE=60

# Délai entre requêtes (en ms)
API_REQUEST_DELAY=1000

# Timeout requêtes HTTP (en ms)
HTTP_TIMEOUT=30000

# ============================================
# Fonctionnalités optionnelles
# ============================================

# Activer backtesting
ENABLE_BACKTESTING=true

# Activer mode simulation (pas d'ordres réels)
SIMULATION_MODE=true

# Activer analyse ESG
ENABLE_ESG_ANALYSIS=false

# Activer ML predictions
ENABLE_ML_PREDICTIONS=false
